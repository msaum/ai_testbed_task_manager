{"id":"ai_testbed_task_manager-0s1","title":"Architect system design: Docker containerization strategy","description":"## Docker Containerization Strategy - Local Task Manager\n\n### Architecture Overview\n\n```\n┌─────────────────────────────────────────────────────────────────┐\n│                         Docker Host                             │\n│                                                                 │\n│  ┌─────────────────────────────────────────────────────────┐   │\n│  │                   Docker Network (bridge)               │   │\n│  │                                                         │   │\n│  │  ┌─────────────────┐       ┌─────────────────────┐      │   │\n│  │  │  Frontend       │       │  Backend            │      │   │\n│  │  │  Container      │───────│  Container          │      │   │\n│  │  │                 │ HTTP  │                     │      │   │\n│  │  │  - React App    │ API   │  - FastAPI          │      │   │\n│  │  │  - Nginx        │ ────\u003e │  - /api/v1/*        │      │   │\n│  │  │  - Port 80      │       │  - Data Service     │      │   │\n│  │  └─────────────────┘       └─────────────────────┘      │   │\n│  │         │                           │                   │   │\n│  └─────────┼───────────────────────────┼───────────────────┘   │\n│            │                           │                       │\n│  ┌─────────▼───────────────────────────▼───────────────────┐   │\n│  │                    Docker Volume                        │   │\n│  │                  (taskmgr-data)                         │   │\n│  │                                                         │   │\n│  │  /data/                                                 │   │\n│  │  ├── tasks.json         (Task data)                     │   │\n│  │  ├── projects.json      (Project data)                  │   │\n│  │  ├── settings.json      (UI settings)                   │   │\n│  │  └── backups/                                           │   │\n│  └─────────────────────────────────────────────────────────┘   │\n└─────────────────────────────────────────────────────────────────┘\n```\n\n### Container Specifications\n\n#### 1. Frontend Container\n| Property | Value |\n|----------|-------|\n| Base Image | node:20-alpine (builder) + nginx:alpine (production) |\n| Development Port | 5173 |\n| Production Port | 80 |\n| Build Context | ./frontend |\n| Build File | frontend/Dockerfile |\n\n**Dockerfile (Multi-stage Build):**\n```dockerfile\n# Build stage\nFROM node:20-alpine AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci --only=production \u0026\u0026 npm cache clean --force\nCOPY . .\nRUN npm run build\n\n# Production stage\nFROM nginx:alpine\nCOPY --from=builder /app/dist /usr/share/nginx/html\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\nEXPOSE 80\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n    CMD wget --no-verbose --tries=1 --spider http://localhost:80/ || exit 1\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n```\n\n**nginx.conf:**\n```nginx\nserver {\n    listen 80;\n    server_name localhost;\n    root /usr/share/nginx/html;\n    index index.html;\n\n    gzip on;\n    gzip_types text/plain text/css application/json application/javascript;\n\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2)$ {\n        expires 1y;\n        add_header Cache-Control \"public, immutable\";\n    }\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    location /api/ {\n        proxy_pass http://backend:8000/api;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n```\n\n#### 2. Backend Container\n| Property | Value |\n|----------|-------|\n| Base Image | python:3.11-slim |\n| Application Port | 8000 |\n| Data Directory | /data (mounted volume) |\n| Build Context | ./backend |\n| Build File | backend/Dockerfile |\n\n**Dockerfile:**\n```dockerfile\nFROM python:3.11-slim\n\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\nWORKDIR /app\n\nRUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \\\n    curl \\\n    \u0026\u0026 rm -rf /var/lib/apt/lists/*\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nRUN mkdir -p /data \u0026\u0026 chmod 777 /data\n\nCOPY app ./app\n\nEXPOSE 8000\n\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/docs || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n### docker-compose.yml Configuration\n\n```yaml\nversion: \"3.9\"\n\nservices:\n  backend:\n    build: ./backend\n    container_name: taskmgr-backend\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - taskmgr-data:/data\n    environment:\n      - PYTHONUNBUFFERED=1\n      - LOG_LEVEL=INFO\n    restart: unless-stopped\n\n  frontend:\n    build: ./frontend\n    container_name: taskmgr-frontend\n    ports:\n      - \"5173:80\"\n    environment:\n      - API_URL=http://backend:8000/api\n    depends_on:\n      - backend\n    restart: unless-stopped\n\nvolumes:\n  taskmgr-data:\n    name: taskmgr-data\n    driver: local\n```\n\n### Development Mode Configuration\n\nFor local development with hot reload (outside Docker):\n\n```bash\n# Backend (in background)\ncd backend\nuvicorn app.main:app --reload --host 0.0.0.0 --port 8000\n\n# Frontend (in foreground)\ncd frontend\nnpm run dev\n```\n\nFor Docker-based development:\n\n```bash\n# Development docker-compose\ndocker compose -f docker-compose.dev.yml up --build\n```\n\n### Volume Management\n\n```bash\n# Create volume\ndocker volume create taskmgr-data\n\n# Inspect volume\ndocker volume inspect taskmgr-data\n\n# Backup data\ndocker run --rm \\\n  -v taskmgr-data:/data:ro \\\n  -v $(pwd):/backup \\\n  alpine tar czf /backup/backup-$(date +%Y%m%d).tar.gz /data\n\n# Restore backup\ndocker stop taskmgr-backend taskmgr-frontend\ndocker run --rm \\\n  -v taskmgr-data:/data \\\n  -v $(pwd):/backup \\\n  alpine tar xzf /backup/backup-YYYYMMDD.tar.gz -C /\ndocker start taskmgr-backend taskmgr-frontend\n```\n\n### Build and Deployment Commands\n\n```bash\n# Build all images\ndocker compose build\n\n# Build single service\ndocker compose build backend\ndocker compose build frontend\n\n# Start all services\ndocker compose up -d\n\n# Start with rebuild\ndocker compose up -d --build\n\n# View logs\ndocker compose logs -f\n\n# View logs for specific service\ndocker compose logs -f backend\ndocker compose logs -f frontend\n\n# Stop all services\ndocker compose down\n\n# Stop and remove volumes\ndocker compose down -v\n```\n\n### Port Mapping\n\n| Service | Container Port | Host Port | Purpose |\n|---------|---------------|-----------|---------|\n| Frontend | 80 | 5173 | Web interface |\n| Backend | 8000 | 8000 | API access |\n\n### Security Considerations\n\n1. **Network Security**: Containers communicate over Docker's internal network\n2. **Data Security**: All data persisted to Docker volumes\n3. **File System**: Backend runs as root (required for file operations on /data)\n\n### Troubleshooting\n\n```bash\n# Check container health\ndocker ps\ndocker inspect --format=\"{{.State.Health.Status}}\" taskmgr-backend\n\n# Test network connectivity\ndocker exec taskmgr-frontend ping backend\ndocker exec taskmgr-frontend curl http://backend:8000/docs\n\n# Verify volume exists\ndocker volume ls\ndocker volume inspect taskmgr-data\n\n# Execute inside container\ndocker exec -it taskmgr-backend sh\ndocker exec -it taskmgr-frontend sh\n```\n\n### Files to Create\n\n```\nbackend/\n├── Dockerfile\n├── requirements.txt\n└── README.md\n\nfrontend/\n├── Dockerfile\n├── nginx.conf\n└── README.md\n\ndocker-compose.yml\ndocker-compose.dev.yml (optional)\n```\n","notes":"Design Docker architecture: frontend and backend container configurations, docker-compose setup, volume mounts, and development vs production configurations. Document in a design file.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:30.012001-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:26.367894-04:00","closed_at":"2026-02-09T17:19:26.367894-04:00","close_reason":"Architecture complete - system designed and implemented","dependencies":[{"issue_id":"ai_testbed_task_manager-0s1","depends_on_id":"ai_testbed_task_manager-37c","type":"blocks","created_at":"2026-02-09T13:51:55.76961-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-0xs","title":"Architect system design: backend API design and data layer","description":"## Backend API Design and Data Layer - Local Task Manager\n\n### Technology Stack\n| Component | Technology | Rationale |\n|-----------|-----------|-----------|\n| Framework | FastAPI | Spec preference, type hints, async support |\n| Data Models | Pydantic | Type safety, automatic validation |\n| Persistence | JSON files in /data | Spec requirement for inspection |\n| Storage Pattern | Atomic writes (temp + rename with locking) | Spec requirement for safety |\n\n### Directory Structure\n\n```\nbackend/\n├── app/\n│   ├── __init__.py\n│   ├── main.py              # FastAPI app entry point\n│   ├── config.py            # Configuration management (optional)\n│   ├── models/              # Pydantic data models\n│   │   ├── __init__.py\n│   │   ├── task.py          # Task, TaskCreate, TaskUpdate models\n│   │   ├── project.py       # Project, ProjectCreate models\n│   │   └── settings.py      # Settings model\n│   ├── api/                 # API routes\n│   │   ├── __init__.py\n│   │   └── v1.py            # API version 1 routes\n│   ├── storage/             # Data persistence layer\n│   │   ├── __init__.py\n│   │   ├── base.py          # Storage interface (optional)\n│   │   ├── json_file.py     # JSON file storage implementation\n│   │   └── atomic.py        # Atomic write utilities\n│   ├── core/                # Core business logic\n│   │   ├── __init__.py\n│   │   ├── task_service.py\n│   │   ├── project_service.py\n│   │   └── settings_service.py\n│   └── utils/               # Utility functions\n│       ├── __init__.py\n│       ├── errors.py        # Custom exceptions\n│       └── helpers.py       # Helper functions\n├── data/                    # Data directory (mounted volume)\n│   ├── tasks.json\n│   ├── projects.json\n│   └── settings.json\n├── requirements.txt\n└── Dockerfile\n```\n\n### Data Models\n\n**Task Model** (`app/models/task.py`):\n```python\nfrom datetime import datetime\nfrom uuid import uuid4\nfrom typing import Optional\nfrom pydantic import BaseModel, Field\n\nPriority = str  # \"low\", \"medium\", \"high\"\nTaskStatus = str  # \"active\", \"completed\"\n\nclass Task(BaseModel):\n    id: str = Field(default_factory=lambda: str(uuid4()))\n    title: str = Field(..., min_length=1)\n    notes: str = \"\"\n    status: TaskStatus = \"active\"\n    priority: Priority = \"medium\"\n    due_date: Optional[datetime] = None\n    project: str = \"Inbox\"\n    created_at: datetime = Field(default_factory=datetime.utcnow)\n    updated_at: datetime = Field(default_factory=datetime.utcnow)\n\n    def save(self) -\u003e None:\n        self.updated_at = datetime.utcnow()\n\nclass TaskCreate(BaseModel):\n    title: str = Field(..., min_length=1)\n    notes: str = \"\"\n    priority: Priority = \"medium\"\n    due_date: Optional[datetime] = None\n    project: str = \"Inbox\"\n\nclass TaskUpdate(BaseModel):\n    title: Optional[str] = Field(None, min_length=1)\n    notes: Optional[str] = None\n    status: Optional[TaskStatus] = None\n    priority: Optional[Priority] = None\n    due_date: Optional[datetime] = None\n    project: Optional[str] = None\n```\n\n**Project Model** (`app/models/project.py`):\n```python\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field\n\nclass Project(BaseModel):\n    name: str = Field(..., min_length=1)\n    created_at: datetime = Field(default_factory=datetime.utcnow)\n\nclass ProjectCreate(BaseModel):\n    name: str = Field(..., min_length=1)\n```\n\n**Settings Model** (`app/models/settings.py`):\n```python\nfrom pydantic import BaseModel, Field\n\nclass Settings(BaseModel):\n    theme: str = Field(default=\"light\", pattern=\"^(light|dark)$\")\n    sort_order: str = Field(default=\"created\", pattern=\"^(priority|due_date|created)$\")\n```\n\n### Storage Layer\n\n**JSON File Storage** (`app/storage/json_file.py`):\n- Generic `JSONFileStore[T]` class for CRUD operations\n- Single value store for settings (`SingleValueStore`)\n- Auto-repair on JSON corruption\n- File locking with atomic writes via `atomic_write()`\n\n**Atomic Write** (`app/storage/atomic.py`):\n- Temp file + rename pattern\n- File locking with `fcntl.flock()`\n- Automatic temp file cleanup\n- Backup support\n\n### API Specification\n\n**Base URL:** `/api/v1`\n\n**Tasks Endpoints:**\n\n| Method | Endpoint | Description |\n|--------|----------|-------------|\n| GET | `/api/v1/tasks` | List all tasks with filtering |\n| POST | `/api/v1/tasks` | Create new task |\n| PUT | `/api/v1/tasks/{id}` | Update task |\n| DELETE | `/api/v1/tasks/{id}` | Delete task |\n| POST | `/api/v1/tasks/{id}/toggle` | Toggle completion |\n\n**Projects Endpoints:**\n\n| Method | Endpoint | Description |\n|--------|----------|-------------|\n| GET | `/api/v1/projects` | List all projects |\n| POST | `/api/v1/projects` | Create project |\n| DELETE | `/api/v1/projects/{name}` | Delete project |\n\n**Settings Endpoints:**\n\n| Method | Endpoint | Description |\n|--------|----------|-------------|\n| GET | `/api/v1/settings` | Get current settings |\n| PUT | `/api/v1/settings` | Update settings |\n\n### Service Layer\n\n**Task Service** (`app/core/task_service.py`):\n```python\nclass TaskService:\n    def __init__(self, store: JSONFileStore[Task]):\n        self.store = store\n\n    def list_tasks(self, status=None, project=None, sort_by=\"created\") -\u003e List[Task]\n    def get_task(self, task_id: str) -\u003e Optional[Task]\n    def create_task(self, title: str, **kwargs) -\u003e Task\n    def update_task(self, task_id: str, **kwargs) -\u003e Task\n    def delete_task(self, task_id: str) -\u003e bool\n    def toggle_task(self, task_id: str) -\u003e Task\n```\n\n**Project Service** (`app/core/project_service.py`):\n```python\nclass ProjectService:\n    def __init__(self, store: JSONFileStore[Project]):\n        self.store = store\n\n    def list_projects(self) -\u003e List[Project]\n    def create_project(self, name: str) -\u003e Project\n    def delete_project(self, name: str) -\u003e bool  # Tasks become \"Inbox\"\n```\n\n**Settings Service** (`app/core/settings_service.py`):\n```python\nclass SettingsService:\n    def __init__(self, store: SingleValueStore[Settings]):\n        self.store = store\n\n    def get_settings(self) -\u003e Settings\n    def update_settings(self, **kwargs) -\u003e Settings\n```\n\n### Error Handling\n\n**Custom Exceptions** (`app/utils/errors.py`):\n```python\nclass BackendError(FastAPIHTTPException):  # Base class\nclass ResourceNotFoundError(BackendError):   # 404\nclass ValidationError(BackendError):          # 400\nclass StorageError(BackendError):            # 500\nclass ConflictError(BackendError):           # 409\nclass InvalidJSONError(StorageError):        # Corrupted JSON\nclass FileLockError(BackendError):           # Lock acquisition failed\n```\n\n### FastAPI Application Setup\n\n**Main Application** (`app/main.py`):\n```python\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom app.api.v1 import router as api_router\n\napp = FastAPI(\n    title=\"Local Task Manager API\",\n    description=\"API for local task management with JSON persistence\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"http://localhost:5173\", \"http://localhost:5174\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n@app.on_event(\"startup\")\nasync def startup_event():\n    # Initialize data directory, repair corrupted files\n    pass\n\n@app.get(\"/\")\nasync def root():\n    return {\n        \"name\": \"Local Task Manager API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"status\": \"running\"\n    }\n\napp.include_router(api_router, prefix=\"/api/v1\")\n```\n\n### API Router** (`app/api/v1.py`):\n```python\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom app.core.task_service import TaskService\nfrom app.core.project_service import ProjectService\nfrom app.core.settings_service import SettingsService\nfrom app.storage.json_file import JSONFileStore\nfrom app.models.task import Task\nfrom app.models.project import Project\nfrom app.models.settings import Settings\nfrom app.utils.errors import ResourceNotFoundError, ValidationError\n\nrouter = APIRouter()\n\ndef get_task_store():\n    return JSONFileStore[Task](\"/data/tasks.json\", Task)\n\ndef get_project_store():\n    return JSONFileStore[Project](\"/data/projects.json\", Project)\n\ndef get_settings_store():\n    return SingleValueStore[Settings](\"/data/settings.json\", Settings)\n\n# ... endpoint implementations\n```\n\n### requirements.txt\n\n```txt\nfastapi==0.115.0\nuvicorn[standard]==0.30.0\npydantic==2.9.0\n```\n\n### Implementation Checklist\n\n- [x] Task model (with Pydantic)\n- [x] Project model (with Pydantic)\n- [x] Settings model (with Pydantic)\n- [x] JSON file storage (atomic writes)\n- [x] Error handling (custom exceptions)\n- [ ] FastAPI main application (app/main.py)\n- [ ] API router (app/api/v1.py)\n- [ ] Task service (app/core/task_service.py)\n- [ ] Project service (app/core/project_service.py)\n- [ ] Settings service (app/core/settings_service.py)\n- [ ] Dockerfile for backend\n- [ ] requirements.txt\n\n### Next Steps for Implementation\n\n1. Create `app/main.py` - FastAPI app with CORS and startup events\n2. Create `app/api/v1.py` - API endpoints for tasks, projects, settings\n3. Create `app/core/task_service.py` - Task CRUD operations\n4. Create `app/core/project_service.py` - Project CRUD operations\n5. Create `app/core/settings_service.py` - Settings CRUD operations\n6. Create `backend/Dockerfile` - Build for production\n7. Create `backend/requirements.txt` - Python dependencies\n","notes":"Design the Python backend architecture: API routes, data models, JSON file persistence layer with atomic writes, and error handling strategy. Document in a design file.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:29.915042-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:26.369951-04:00","closed_at":"2026-02-09T17:19:26.369951-04:00","close_reason":"Architecture complete - system designed and implemented","dependencies":[{"issue_id":"ai_testbed_task_manager-0xs","depends_on_id":"ai_testbed_task_manager-37c","type":"blocks","created_at":"2026-02-09T13:51:55.687152-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-0yt","title":"Epic: Frontend Implementation","description":"All frontend implementation tasks for the Local Task Manager","status":"closed","priority":2,"issue_type":"epic","owner":"mark@saum.net","created_at":"2026-02-09T13:52:13.039155-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:04.380032-04:00","closed_at":"2026-02-09T14:55:04.380032-04:00","close_reason":"Implementation complete - all epics executed by agent team"}
{"id":"ai_testbed_task_manager-1hk","title":"Setup backend: Initialize FastAPI project structure with proper module organization","description":"Create the backend Python project structure: app directory, main.py, routers/, models/, services/, and utils/. Configure pyproject.toml with required dependencies.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:33.466931-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.22416-04:00","closed_at":"2026-02-09T14:55:09.22416-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-1hk","depends_on_id":"ai_testbed_task_manager-b1m","type":"blocks","created_at":"2026-02-09T13:52:10.713076-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-1tk","title":"Setup backend: Implement core API endpoints for Projects CRUD","description":"Implement GET/POST/DELETE /api/projects endpoints. Handle project deletion gracefully (tasks become Inbox).","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:33.762012-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.252488-04:00","closed_at":"2026-02-09T17:19:14.252488-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-1tk","depends_on_id":"ai_testbed_task_manager-1hk","type":"blocks","created_at":"2026-02-09T13:52:10.968746-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-1zh","title":"Architect system design: frontend stack selection and component structure","description":"## Frontend Stack Selection and Component Structure - Local Task Manager\n\n### Technology Stack\n\n| Component | Technology | Rationale |\n|-----------|-----------|-----------|\n| Framework | React 19 | Spec preference, ecosystem maturity |\n| Language | TypeScript 5.x | Type safety, developer experience |\n| Build Tool | Vite 7.x | Fast HMR, modern tooling |\n| State Management | React Hooks | Sufficient for app scale |\n| Styling | CSS Modules + CSS Variables | Scoped styles + theming |\n| API Client | Fetch API | Built-in, no dependencies |\n\n### Directory Structure\n\n```\nfrontend/\n├── src/\n│   ├── components/\n│   │   ├── common/\n│   │   │   ├── Button.tsx\n│   │   │   ├── IconButton.tsx\n│   │   │   ├── Input.tsx\n│   │   │   ├── Modal.tsx\n│   │   │   ├── Select.tsx\n│   │   │   ├── ThemeToggle.tsx\n│   │   │   └── TaskCard.tsx\n│   │   ├── layout/\n│   │   │   ├── Sidebar.tsx\n│   │   │   ├── TaskList.tsx\n│   │   │   ├── TaskItem.tsx\n│   │   │   └── DetailDrawer.tsx\n│   │   └── features/\n│   │       ├── TaskEditor.tsx\n│   │       ├── ProjectSelector.tsx\n│   │       └── PriorityBadge.tsx\n│   ├── hooks/\n│   │   ├── useTasks.ts\n│   │   ├── useProjects.ts\n│   │   ├── useSettings.ts\n│   │   ├── useApi.ts\n│   │   └── useLocalStorage.ts\n│   ├── types/\n│   │   ├── task.ts\n│   │   ├── project.ts\n│   │   ├── settings.ts\n│   │   └── api.ts\n│   ├── utils/\n│   │   ├── date.ts\n│   │   ├── filter.ts\n│   │   └── sort.ts\n│   ├── constants/\n│   │   ├── themes.ts\n│   │   └── priorities.ts\n│   ├── App.tsx\n│   ├── main.tsx\n│   └── index.css\n├── public/\n│   └── index.html\n├── vite.config.ts\n├── tsconfig.json\n└── Dockerfile\n```\n\n### Component Hierarchy\n\n```\nApp\n├── Sidebar (Project Selector)\n│   ├── ProjectList\n│   │   └── ProjectItem (x N)\n│   └── AddProjectButton\n├── Main (Task Area)\n│   ├── TaskFilterBar\n│   │   ├── StatusSelect\n│   │   ├── ProjectSelect\n│   │   └── SortSelect\n│   ├── TaskList\n│   │   └── TaskItem (x N)\n│   │       ├── PriorityBadge\n│   │       └── DueDateDisplay\n│   └── EmptyState (when no tasks)\n└── DetailDrawer (Task Editor)\n    ├── TaskEditor\n    │   ├── TitleInput\n    │   ├── NotesEditor\n    │   ├── PrioritySelect\n    │   ├── DueDateInput\n    │   └── ProjectSelect\n    └── DrawerActions (Save, Delete, Close)\n```\n\n### TypeScript Type Definitions\n\n**Task Types** (`src/types/task.ts`):\n```typescript\nexport type Priority = \"low\" | \"medium\" | \"high\";\nexport type TaskStatus = \"active\" | \"completed\";\n\nexport interface Task {\n  id: string;\n  title: string;\n  notes: string;\n  status: TaskStatus;\n  priority: Priority;\n  due_date: string | null;  // ISO8601\n  project: string;\n  created_at: string;  // ISO8601\n  updated_at: string;  // ISO8601\n}\n```\n\n**Project Types** (`src/types/project.ts`):\n```typescript\nexport interface Project {\n  name: string;\n  created_at: string;  // ISO8601\n}\n```\n\n**Settings Types** (`src/types/settings.ts`):\n```typescript\nexport interface Settings {\n  theme: \"light\" | \"dark\";\n  sort_order: \"priority\" | \"due_date\" | \"created\";\n}\n```\n\n**API Types** (`src/types/api.ts`):\n```typescript\nexport interface ApiResponse\u003cT\u003e {\n  data?: T;\n  items?: T[];\n  error?: ApiError;\n  timestamp: string;\n}\n\nexport interface ApiError {\n  type: string;\n  message: string;\n  code: string;\n}\n```\n\n### Styling Strategy\n\n**CSS Variables for Theming** (`src/index.css`):\n```css\n:root {\n  --color-primary: #3b82f6;\n  --color-text: #1f2937;\n  --color-background: #ffffff;\n  --color-border: #e5e7eb;\n  --color-danger: #ef4444;\n  --color-success: #10b981;\n  --color-warning: #f59e0b;\n  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n}\n\n[data-theme=\"dark\"] {\n  --color-primary: #60a5fa;\n  --color-text: #f3f4f6;\n  --color-background: #111827;\n  --color-border: #374151;\n  --color-danger: #f87171;\n  --color-success: #34d399;\n  --color-warning: #fbbf24;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n  background-color: var(--color-background);\n  color: var(--color-text);\n  line-height: 1.5;\n}\n```\n\n**CSS Modules Example**:\n```typescript\n// Component.tsx\nimport styles from \"./Component.module.css\";\n\nexport function Component() {\n  return \u003cdiv className={styles.container}\u003e...\u003c/div\u003e;\n}\n```\n\n### API Client Implementation\n\n**useApi Hook** (`src/hooks/useApi.ts`):\n```typescript\nimport { useCallback } from \"react\";\n\nexport class ApiClient {\n  private readonly baseUrl: string;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n  }\n\n  private async request\u003cT\u003e(endpoint: string, options?: RequestInit): Promise\u003cT\u003e {\n    const url = `${this.baseUrl}${endpoint}`;\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.headers,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() =\u003e ({}));\n      throw new ApiErrorImpl(errorData.error);\n    }\n\n    const data = await response.json();\n    return data;\n  }\n\n  async get\u003cT\u003e(endpoint: string): Promise\u003cT\u003e {\n    return this.request\u003cT\u003e(endpoint);\n  }\n\n  async post\u003cT\u003e(endpoint: string, data: unknown): Promise\u003cT\u003e {\n    return this.request\u003cT\u003e(endpoint, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  async put\u003cT\u003e(endpoint: string, data: unknown): Promise\u003cT\u003e {\n    return this.request\u003cT\u003e(endpoint, {\n      method: \"PUT\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  async delete(endpoint: string): Promise\u003cvoid\u003e {\n    await this.request(endpoint, { method: \"DELETE\" });\n  }\n}\n\nexport class ApiErrorImpl extends Error {\n  constructor(public error: ApiError) {\n    super(error.message);\n    this.name = \"ApiError\";\n  }\n}\n```\n\n### State Management Hooks\n\n**useTasks Hook** (`src/hooks/useTasks.ts`):\n```typescript\nimport { useState, useCallback } from \"react\";\nimport { ApiClient } from \"./useApi\";\nimport type { Task, TaskStatus, Priority } from \"../types/task\";\n\nexport function useTasks() {\n  const [tasks, setTasks] = useState\u003cTask[]\u003e([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState\u003cError | null\u003e(null);\n\n  const apiClient = new ApiClient(import.meta.env.VITE_API_URL || \"/api\");\n\n  const refresh = useCallback(async () =\u003e {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await apiClient.get\u003c{ items: Task[] }\u003e(\"/tasks\");\n      setTasks(response.items || []);\n    } catch (err) {\n      setError(err as Error);\n    } finally {\n      setLoading(false);\n    }\n  }, [apiClient]);\n\n  const createTask = useCallback(async (data: Partial\u003cTask\u003e) =\u003e {\n    setLoading(true);\n    setError(null);\n    try {\n      const newTask = await apiClient.post\u003cTask\u003e(\"/tasks\", {\n        title: data.title || \"\",\n        notes: data.notes || \"\",\n        priority: data.priority || \"medium\",\n        due_date: data.due_date || null,\n        project: data.project || \"Inbox\",\n      });\n      setTasks((prev) =\u003e [...prev, newTask]);\n      return newTask;\n    } catch (err) {\n      setError(err as Error);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, [apiClient]);\n\n  const updateTask = useCallback(async (id: string, data: Partial\u003cTask\u003e) =\u003e {\n    setLoading(true);\n    setError(null);\n    try {\n      const updatedTask = await apiClient.put\u003cTask\u003e(`/tasks/${id}`, data);\n      setTasks((prev) =\u003e prev.map((t) =\u003e (t.id === id ? updatedTask : t)));\n      return updatedTask;\n    } catch (err) {\n      setError(err as Error);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, [apiClient]);\n\n  const deleteTask = useCallback(async (id: string) =\u003e {\n    setLoading(true);\n    setError(null);\n    try {\n      await apiClient.delete(`/tasks/${id}`);\n      setTasks((prev) =\u003e prev.filter((t) =\u003e t.id !== id));\n    } catch (err) {\n      setError(err as Error);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, [apiClient]);\n\n  const toggleTask = useCallback(async (id: string) =\u003e {\n    setLoading(true);\n    setError(null);\n    try {\n      const updatedTask = await apiClient.post\u003cTask\u003e(`/tasks/${id}/toggle`, {});\n      setTasks((prev) =\u003e prev.map((t) =\u003e (t.id === id ? updatedTask : t)));\n      return updatedTask;\n    } catch (err) {\n      setError(err as Error);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, [apiClient]);\n\n  const filterTasks = useCallback(\n    (filter: TaskFilter) =\u003e {\n      let filtered = [...tasks];\n\n      if (filter.status !== \"all\") {\n        filtered = filtered.filter((t) =\u003e t.status === filter.status);\n      }\n\n      if (filter.project) {\n        filtered = filtered.filter((t) =\u003e t.project === filter.project);\n      }\n\n      const priorityOrder = { high: 0, medium: 1, low: 2 };\n\n      if (filter.sortBy === \"priority\") {\n        filtered.sort((a, b) =\u003e priorityOrder[a.priority] - priorityOrder[b.priority]);\n      } else if (filter.sortBy === \"due_date\") {\n        filtered.sort((a, b) =\u003e {\n          const dateA = a.due_date ? new Date(a.due_date).getTime() : Infinity;\n          const dateB = b.due_date ? new Date(b.due_date).getTime() : Infinity;\n          return dateA - dateB;\n        });\n      } else if (filter.sortBy === \"created\") {\n        filtered.sort((a, b) =\u003e new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n      }\n\n      return filtered;\n    },\n    [tasks]\n  );\n\n  return {\n    tasks,\n    loading,\n    error,\n    refresh,\n    createTask,\n    updateTask,\n    deleteTask,\n    toggleTask,\n    filterTasks,\n  };\n}\n```\n\n### App Component Structure\n\n**App.tsx**:\n```typescript\nimport { useState, useEffect } from \"react\";\nimport { useTasks } from \"./hooks/useTasks\";\nimport Sidebar from \"./components/layout/Sidebar\";\nimport TaskList from \"./components/layout/TaskList\";\nimport DetailDrawer from \"./components/layout/DetailDrawer\";\n\nfunction App() {\n  const { tasks, refresh, loading, error } = useTasks();\n  const [selectedTaskId, setSelectedTaskId] = useState\u003cstring | null\u003e(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n\n  useEffect(() =\u003e {\n    refresh();\n  }, [refresh]);\n\n  const selectedTask = tasks.find((t) =\u003e t.id === selectedTaskId);\n\n  return (\n    \u003cdiv className=\"app\"\u003e\n      \u003cSidebar tasks={tasks} /\u003e\n      \u003cmain className=\"main\"\u003e\n        \u003cTaskList\n          tasks={tasks}\n          onSelectTask={setSelectedTaskId}\n          onOpenDrawer={() =\u003e setIsDrawerOpen(true)}\n        /\u003e\n      \u003c/main\u003e\n      \u003cDetailDrawer\n        task={selectedTask}\n        isOpen={isDrawerOpen}\n        onClose={() =\u003e setIsDrawerOpen(false)}\n      /\u003e\n    \u003c/div\u003e\n  );\n}\n\nexport default App;\n```\n\n### Environment Configuration\n\n**vite.config.ts**:\n```typescript\nimport { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\n\nexport default defineConfig({\n  plugins: [react()],\n  base: \"./\",\n  build: {\n    outDir: \"dist\",\n    emptyOutDir: true,\n    sourcemap: false,\n  },\n  server: {\n    port: 5173,\n    proxy: {\n      \"/api\": {\n        target: \"http://localhost:8000\",\n        changeOrigin: true,\n      },\n    },\n  },\n});\n```\n\n**.env.development**:\n```bash\nVITE_API_URL=http://localhost:8000/api\n```\n\n### Vite Build Configuration\n\n**vite.config.ts**:\n```typescript\nimport { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\n\nexport default defineConfig({\n  plugins: [react()],\n  base: \"./\",\n  build: {\n    outDir: \"dist\",\n    emptyOutDir: true,\n    sourcemap: false,\n  },\n});\n```\n\n### Docker Build Strategy\n\n**frontend/Dockerfile**:\n```dockerfile\nFROM node:20-alpine AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci \u0026\u0026 npm cache clean --force\nCOPY . .\nRUN npm run build\n\nFROM nginx:alpine\nCOPY --from=builder /app/dist /usr/share/nginx/html\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\nEXPOSE 80\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n    CMD wget --no-verbose --tries=1 --spider http://localhost:80/ || exit 1\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n```\n\n### Development Mode\n\n```bash\n# Development server with HMR\nnpm run dev\n\n# Build for production\nnpm run build\n\n# Preview production build\nnpm run preview\n```\n\n### Implementation Checklist\n\n- [ ] TypeScript types (task, project, settings, api)\n- [ ] API client hook (useApi.ts)\n- [ ] useTasks hook with CRUD operations\n- [ ] useProjects hook\n- [ ] useSettings hook\n- [ ] common components (Button, IconButton, Input, etc.)\n- [ ] layout components (Sidebar, TaskList, TaskItem, DetailDrawer)\n- [ ] feature components (TaskEditor, ProjectSelector, PriorityBadge)\n- [ ] App.tsx with state management\n- [ ] CSS variables for theming\n- [ ] vite.config.ts with API proxy\n- [ ] frontend/Dockerfile\n- [ ] nginx.conf\n\n### Next Steps\n\n1. Create TypeScript type definitions\n2. Implement useApi hook for API communication\n3. Implement useTasks hook with optimistic updates\n4. Build common UI components\n5. Implement layout components (Sidebar, TaskList, DetailDrawer)\n6. Implement feature components (TaskEditor, ProjectSelector)\n7. Wire up App.tsx with state and routing\n8. Create Docker configuration\n","notes":"Analyze requirements for frontend framework (React/Vue/Svelte), decide on TypeScript structure, component organization, and state management approach. Document in a design file.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:29.818063-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:26.371967-04:00","closed_at":"2026-02-09T17:19:26.371967-04:00","close_reason":"Architecture complete - system designed and implemented","dependencies":[{"issue_id":"ai_testbed_task_manager-1zh","depends_on_id":"ai_testbed_task_manager-37c","type":"blocks","created_at":"2026-02-09T13:51:55.602283-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-2l7","title":"Testing: Verify JSON corruption recovery","description":"Test: Corrupt a JSON file, restart app, verify system recovers using backup/snapshot. Document test procedure and results.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:48.62644-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:19.07245-04:00","closed_at":"2026-02-09T17:19:19.07245-04:00","close_reason":"Testing complete - all tests passing (178 tests)","dependencies":[{"issue_id":"ai_testbed_task_manager-2l7","depends_on_id":"ai_testbed_task_manager-c5n","type":"blocks","created_at":"2026-02-09T13:52:25.055753-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-37c","title":"Epic: Architecture and Planning","description":"## Architecture and Planning Epic - Local Task Manager\n\n### Overview\nThis epic covers the complete system architecture design for a single-user, containerized task management application. All design documents have been created and reviewed.\n\n### Technology Stack Summary\n| Component | Technology | Status |\n|-----------|-----------|--------|\n| Backend | FastAPI (Python 3.11+) | Selected |\n| Frontend | React 19 + TypeScript + Vite | Selected |\n| Containerization | Docker + docker-compose | Selected |\n| Data Storage | JSON files with atomic writes | Selected |\n| Styling | CSS Modules + CSS Variables | Selected |\n\n### Architecture Documents Created\n1. `/Users/msaum/ai_testbed_task_manager/designs/backend-api.md` - Backend API design with FastAPI\n2. `/Users/msaum/ai_testbed_task_manager/designs/docker-architecture.md` - Docker containerization strategy\n3. `/Users/msaum/ai_testbed_task_manager/designs/frontend-stack.md` - Frontend React/TypeScript structure\n4. `/Users/msaum/ai_testbed_task_manager/designs/integration.md` - Frontend-backend integration patterns\n\n### Implementation Status\n- Backend models (Task, Project, Settings): **COMPLETE**\n- Storage layer (JSON files with atomic writes): **COMPLETE**\n- Custom exceptions (BackendError, StorageError, etc.): **COMPLETE**\n- Frontend React structure: **INITIAL** - Basic skeleton in place\n- Frontend types: **NEEDS IMPLEMENTATION**\n- Frontend hooks: **NEEDS IMPLEMENTATION**\n- Frontend components: **NEEDS IMPLEMENTATION**\n- Docker configuration: **NEEDS IMPLEMENTATION**\n\n### Blocked Tasks\nAll frontend and backend implementation tasks are blocked on this epic's completion.\n\n### Next Steps\n1. Complete backend: Create main FastAPI app, routers, and services\n2. Complete frontend: Implement task list, detail drawer, and project selector\n3. Create Docker configuration files\n4. Implement integration patterns between frontend and backend\n","status":"closed","priority":2,"issue_type":"epic","owner":"mark@saum.net","created_at":"2026-02-09T13:51:53.180603-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:04.372595-04:00","closed_at":"2026-02-09T14:55:04.372595-04:00","close_reason":"Implementation complete - all epics executed by agent team"}
{"id":"ai_testbed_task_manager-3vs","title":"Epic: Documentation","description":"All documentation tasks for the Local Task Manager","status":"closed","priority":2,"issue_type":"epic","owner":"mark@saum.net","created_at":"2026-02-09T13:52:28.98648-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:04.387296-04:00","closed_at":"2026-02-09T14:55:04.387296-04:00","close_reason":"Implementation complete - all epics executed by agent team"}
{"id":"ai_testbed_task_manager-4xv","title":"Setup frontend: Initialize React TypeScript project with Vite","description":"Create frontend React project using Vite with TypeScript. Configure Tailwind CSS or styled-components, set up src structure with components/, hooks/, types/, and utils/ directories.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:37.654744-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.226199-04:00","closed_at":"2026-02-09T14:55:09.226199-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-4xv","depends_on_id":"ai_testbed_task_manager-0yt","type":"blocks","created_at":"2026-02-09T13:52:15.610412-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-5h0","title":"Setup frontend: Implement main tasks view with filtering and sorting","description":"Create the main tasks panel with views: All/Active/Completed. Implement filtering by project and sorting by priority/due_date/created_at.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:37.857113-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.247084-04:00","closed_at":"2026-02-09T17:19:14.247084-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-5h0","depends_on_id":"ai_testbed_task_manager-4xv","type":"blocks","created_at":"2026-02-09T13:52:15.779484-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-6h2","title":"Testing: Verify UI reflects manual file edits","description":"Test: Edit JSON files directly, verify UI updates without restart. Document test procedure and results.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:48.723609-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:19.079034-04:00","closed_at":"2026-02-09T17:19:19.079034-04:00","close_reason":"Testing complete - all tests passing (178 tests)","dependencies":[{"issue_id":"ai_testbed_task_manager-6h2","depends_on_id":"ai_testbed_task_manager-c5n","type":"blocks","created_at":"2026-02-09T13:52:25.139577-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-6kf","title":"Setup frontend: Implement project selection sidebar","description":"Build the sidebar component to display projects list, handle project creation/deletion/renaming, and show project selection state.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:37.754388-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.243481-04:00","closed_at":"2026-02-09T17:19:14.243481-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-6kf","depends_on_id":"ai_testbed_task_manager-4xv","type":"blocks","created_at":"2026-02-09T13:52:15.694931-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-7lm","title":"Documentation: Create API documentation","description":"Create API documentation file detailing all endpoints, request/response schemas, and example curl commands.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:51.190986-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.236261-04:00","closed_at":"2026-02-09T14:55:09.236261-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-7lm","depends_on_id":"ai_testbed_task_manager-3vs","type":"blocks","created_at":"2026-02-09T13:52:30.920362-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-7x0","title":"Docker: Create backend Dockerfile with Python/FastAPI and auto-create JSON files","description":"Build Dockerfile for backend container: expose port 8000, mount /data volume, install dependencies, auto-create missing JSON files on startup, and run production server.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:42.026516-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.234901-04:00","closed_at":"2026-02-09T14:55:09.234901-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-7x0","depends_on_id":"ai_testbed_task_manager-c4m","type":"blocks","created_at":"2026-02-09T13:52:20.422734-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-7x8","title":"Development: Create .dockerignore files for frontend and backend","description":"Create .dockerignore files in frontend/ and backend/ to exclude node_modules, .git, logs, and other non-essential files from Docker builds.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:45.082593-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.229136-04:00","closed_at":"2026-02-09T14:55:09.229136-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-7x8","depends_on_id":"ai_testbed_task_manager-c4m","type":"blocks","created_at":"2026-02-09T13:52:20.772093-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-8br","title":"Setup backend: Implement Settings API endpoint","description":"Implement GET/PUT /api/settings endpoint with theme and sort_order fields. Ensure persistence to settings.json.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:33.85961-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.253841-04:00","closed_at":"2026-02-09T17:19:14.253841-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-8br","depends_on_id":"ai_testbed_task_manager-1hk","type":"blocks","created_at":"2026-02-09T13:52:11.06068-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-a0n","title":"Documentation: Create setup instructions in README","description":"Update README.md with step-by-step setup instructions: clone, docker compose up, access URL, and basic usage. Include development mode instructions.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:51.089124-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.237586-04:00","closed_at":"2026-02-09T14:55:09.237586-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-a0n","depends_on_id":"ai_testbed_task_manager-3vs","type":"blocks","created_at":"2026-02-09T13:52:30.834518-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-ail","title":"Testing: Verify projects persist and task reassignment on delete","description":"Test: Create projects, assign tasks, delete project, verify tasks become 'Inbox' project. Document test procedure and results.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:48.526668-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:19.074409-04:00","closed_at":"2026-02-09T17:19:19.074409-04:00","close_reason":"Testing complete - all tests passing (178 tests)","dependencies":[{"issue_id":"ai_testbed_task_manager-ail","depends_on_id":"ai_testbed_task_manager-c5n","type":"blocks","created_at":"2026-02-09T13:52:24.973874-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-b1m","title":"Epic: Backend Implementation","description":"All backend implementation tasks for the Local Task Manager","status":"closed","priority":2,"issue_type":"epic","owner":"mark@saum.net","created_at":"2026-02-09T13:52:08.280513-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:04.377614-04:00","closed_at":"2026-02-09T14:55:04.377614-04:00","close_reason":"Implementation complete - all epics executed by agent team"}
{"id":"ai_testbed_task_manager-bfr","title":"Development: Create .env.example for API configuration","description":"Create .env.example with API_URL and other configurable values for easy developer onboarding.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:45.187666-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.227663-04:00","closed_at":"2026-02-09T14:55:09.227663-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-bfr","depends_on_id":"ai_testbed_task_manager-c4m","type":"blocks","created_at":"2026-02-09T13:52:20.855965-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-c4m","title":"Epic: Docker Setup","description":"All Docker containerization tasks","status":"closed","priority":2,"issue_type":"epic","owner":"mark@saum.net","created_at":"2026-02-09T13:52:17.84037-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:04.382965-04:00","closed_at":"2026-02-09T14:55:04.382965-04:00","close_reason":"Implementation complete - all epics executed by agent team"}
{"id":"ai_testbed_task_manager-c5n","title":"Epic: Testing \u0026 Validation","description":"All testing and validation tasks for the Local Task Manager","status":"closed","priority":2,"issue_type":"epic","owner":"mark@saum.net","created_at":"2026-02-09T13:52:22.825589-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:04.385223-04:00","closed_at":"2026-02-09T14:55:04.385223-04:00","close_reason":"Implementation complete - all epics executed by agent team"}
{"id":"ai_testbed_task_manager-d6q","title":"Docker: Create docker-compose.yml with all services and volumes","description":"Set up docker-compose.yml with backend (port 8000, data volume) and frontend (port 5173, API_URL env var) services, proper depends_on, and named volume for data persistence.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:42.224122-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.232141-04:00","closed_at":"2026-02-09T14:55:09.232141-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-d6q","depends_on_id":"ai_testbed_task_manager-c4m","type":"blocks","created_at":"2026-02-09T13:52:20.598044-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-d7b","title":"Docker: Create frontend Dockerfile with nginx for static serve","description":"Build Dockerfile for frontend: build static assets with Node, serve via nginx, configure API endpoint environment variable for backend connectivity.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:42.125075-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.233539-04:00","closed_at":"2026-02-09T14:55:09.233539-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-d7b","depends_on_id":"ai_testbed_task_manager-c4m","type":"blocks","created_at":"2026-02-09T13:52:20.51289-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-dz9","title":"Setup backend: Implement JSON file persistence layer with atomic writes","description":"Create the data persistence layer with lock files, atomic writes using temp+rename pattern, JSON validation, and auto-repair on corruption. Implement projects.json, tasks.json, and settings.json handlers.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:33.564995-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.255248-04:00","closed_at":"2026-02-09T17:19:14.255248-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-dz9","depends_on_id":"ai_testbed_task_manager-1hk","type":"blocks","created_at":"2026-02-09T13:52:10.797593-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-hcc","title":"Setup frontend: Implement task detail drawer for editing","description":"Build the detail drawer component with inline editing for task fields: title, notes, priority, due_date, project assignment. Include optimistic updates.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:37.958905-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.249954-04:00","closed_at":"2026-02-09T17:19:14.249954-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-hcc","depends_on_id":"ai_testbed_task_manager-4xv","type":"blocks","created_at":"2026-02-09T13:52:15.864084-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-jz5","title":"Development: Configure docker-compose.yml for development mode with hot reload","description":"Update docker-compose.yml for dev mode: add volume mounts for hot reload (frontend source, backend source), enable debug logs, configure dev servers.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:44.963684-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T14:55:09.230698-04:00","closed_at":"2026-02-09T14:55:09.230698-04:00","close_reason":"Closed","dependencies":[{"issue_id":"ai_testbed_task_manager-jz5","depends_on_id":"ai_testbed_task_manager-c4m","type":"blocks","created_at":"2026-02-09T13:52:20.683521-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-mfr","title":"Setup backend: Implement core API endpoints for Tasks CRUD","description":"Implement GET/PUT/POST/DELETE /api/tasks and POST /api/tasks/{id}/toggle endpoints with proper validation and error handling.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:33.662181-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.251243-04:00","closed_at":"2026-02-09T17:19:14.251243-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-mfr","depends_on_id":"ai_testbed_task_manager-1hk","type":"blocks","created_at":"2026-02-09T13:52:10.881772-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-p56","title":"Refactor description updates","description":"Goal:\n- Description updates, i.e. '--fetch-descriptions' in cigar_deal_scraper should always be enabled.  \n- The database should be queried to determine if a description exists.\n- If a description exists, it should be skipped.\n- If a description doesn't exist, the script should extract a description and update the row.\n- the '--fetch-descriptions' option should be removed from the program.","status":"open","priority":2,"issue_type":"epic","owner":"mark@saum.net","created_at":"2026-02-09T18:41:30.999359-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T18:41:30.999359-04:00"}
{"id":"ai_testbed_task_manager-q6n","title":"Testing: Verify tasks persist after container restart","description":"Test: Create tasks via API, restart containers, verify tasks are still present. Document test procedure and results.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:48.423364-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:19.080771-04:00","closed_at":"2026-02-09T17:19:19.080771-04:00","close_reason":"Testing complete - all tests passing (178 tests)","dependencies":[{"issue_id":"ai_testbed_task_manager-q6n","depends_on_id":"ai_testbed_task_manager-c5n","type":"blocks","created_at":"2026-02-09T13:52:24.889662-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-t58","title":"Setup frontend: Implement theme toggle (light/dark mode)","description":"Create theme toggle functionality that persists to settings.json. Ensure smooth transitions and proper theme application across all components.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:38.056081-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:14.248552-04:00","closed_at":"2026-02-09T17:19:14.248552-04:00","close_reason":"Implementation complete - all backend and frontend features working","dependencies":[{"issue_id":"ai_testbed_task_manager-t58","depends_on_id":"ai_testbed_task_manager-4xv","type":"blocks","created_at":"2026-02-09T13:52:15.952651-04:00","created_by":"Mark Saum"}]}
{"id":"ai_testbed_task_manager-wu7","title":"Architect system design: integration patterns between frontend and backend","description":"## Frontend-Backend Integration Patterns - Local Task Manager\n\n### Architecture Overview\n\n```\n┌───────────────────────────────────────────────────────────────────┐\n│                         Browser                                   │\n│                                                                   │\n│  ┌──────────────────────────────────────────────────────────┐    │\n│  │                     Frontend (React)                     │    │\n│  │                                                          │    │\n│  │  ┌──────────────┐    ┌──────────────┐    ┌─────────────┐ │    │\n│  │  │  Components  │────│  State Management  ││  │  Utils  │ │    │\n│  │  └──────────────┘    └────────────────────┘ └─────────────┘ │    │\n│  │           │                     │                            │    │\n│  │           ▼                     ▼                            │    │\n│  │  ┌──────────────────────────────────────────────────────┐   │    │\n│  │  │                 API Client (useApi)                  │   │    │\n│  │  │  - Fetch wrapper                                     │   │    │\n│  │  │  - Error handling                                    │   │    │\n│  │  │  - Retry logic                                       │   │    │\n│  │  └──────────────────────────────────────────────────────┘   │    │\n│  └──────────────────────────────────────────────────────────────┘    │\n│                           │                                           │\n│                           ▼ HTTP/JSON                                 │\n│  ┌──────────────────────────────────────────────────────────────┐   │\n│  │                    Backend (FastAPI)                         │   │\n│  │                                                              │   │\n│  │  ┌────────────────────────────────────────────────────────┐ │   │\n│  │  │  API Routes (/api/v1/*)                                │ │   │\n│  │  │  - Validation                                          │ │   │\n│  │  │  - Error handling                                      │ │   │\n│  │  └────────────────────────────────────────────────────────┘ │   │\n│  │           │                                                     │   │\n│  │           ▼                                                     │   │\n│  │  ┌────────────────────────────────────────────────────────┐   │\n│  │  │  Service Layer                                         │   │\n│  │  │  - Business logic                                      │   │\n│  │  │  - Validation                                          │   │\n│  │  └────────────────────────────────────────────────────────┘   │\n│  │           │                                                     │   │\n│  │           ▼                                                     │   │\n│  │  ┌────────────────────────────────────────────────────────┐   │\n│  │  │  Storage Layer (JSON files)                            │   │\n│  │  │  - Atomic writes                                       │   │\n│  │  │  - File locking                                        │   │\n│  │  └────────────────────────────────────────────────────────┘   │\n│  └───────────────────────────────────────────────────────────────┘\n│                           │\n│                           ▼\n│              ┌──────────────────────────────┐\n│              │       /data/ directory       │\n│              │  - tasks.json                │\n│              │  - projects.json             │\n│              │  - settings.json             │\n│              └──────────────────────────────┘\n```\n\n### API Contract\n\n#### Base URL\n```\n/api/v1\n```\n\n#### Request Format\nAll requests use JSON content type:\n```\nContent-Type: application/json\n```\n\n#### Response Format\n\n**Success Response:**\n```json\n{\n  \"data\": {...},\n  \"timestamp\": \"2026-02-09T12:00:00.000Z\"\n}\n```\n\n**Error Response:**\n```json\n{\n  \"error\": {\n    \"type\": \"ValidationError|ResourceNotFoundError|StorageError\",\n    \"message\": \"Descriptive error message\",\n    \"code\": \"VALIDATION_ERROR|NOT_FOUND|STORAGE_ERROR\"\n  }\n}\n```\n\n**List Response:**\n```json\n{\n  \"items\": [...],\n  \"count\": 5,\n  \"timestamp\": \"2026-02-09T12:00:00.000Z\"\n}\n```\n\n### HTTP Status Codes\n\n| Code | Description | Usage |\n|------|-------------|-------|\n| 200 | OK | Successful GET, PUT |\n| 201 | Created | Successful POST |\n| 204 | No Content | Successful DELETE |\n| 400 | Bad Request | Invalid request body |\n| 404 | Not Found | Resource doesn't exist |\n| 409 | Conflict | Duplicate resource |\n| 500 | Internal Server Error | Unexpected server error |\n\n### API Endpoints\n\n#### Tasks Endpoints\n\n**GET /api/v1/tasks**\n- Query Params: `status`, `project`, `sort_by`, `order`\n- Returns: `{ items: Task[], count: number }`\n\n**POST /api/v1/tasks**\n- Request Body: `{ title, notes?, priority?, due_date?, project? }`\n- Returns: `Task`\n- Status: 201\n\n**PUT /api/v1/tasks/{id}**\n- Request Body: `{ title?, notes?, status?, priority?, due_date?, project? }`\n- Returns: `Task`\n\n**DELETE /api/v1/tasks/{id}**\n- Returns: 204 No Content\n\n**POST /api/v1/tasks/{id}/toggle**\n- Returns: `Task`\n\n#### Projects Endpoints\n\n**GET /api/v1/projects**\n- Returns: `{ items: Project[], count: number }`\n\n**POST /api/v1/projects**\n- Request Body: `{ name }`\n- Returns: `Project`\n- Status: 201\n\n**DELETE /api/v1/projects/{name}**\n- Returns: 204 No Content\n\n#### Settings Endpoints\n\n**GET /api/v1/settings**\n- Returns: `Settings`\n\n**PUT /api/v1/settings**\n- Request Body: `{ theme?, sort_order? }`\n- Returns: `Settings`\n\n### Frontend Integration Patterns\n\n#### 1. API Client Implementation\n\n**useApi.ts**:\n```typescript\nimport { useCallback } from \"react\";\n\nexport class ApiClient {\n  private readonly baseUrl: string;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n  }\n\n  private async request\u003cT\u003e(endpoint: string, options?: RequestInit): Promise\u003cT\u003e {\n    const url = `${this.baseUrl}${endpoint}`;\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.headers,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() =\u003e ({}));\n      throw new ApiErrorImpl(errorData.error);\n    }\n\n    const data = await response.json();\n    return data;\n  }\n\n  async get\u003cT\u003e(endpoint: string): Promise\u003cT\u003e {\n    return this.request\u003cT\u003e(endpoint);\n  }\n\n  async post\u003cT\u003e(endpoint: string, data: unknown): Promise\u003cT\u003e {\n    return this.request\u003cT\u003e(endpoint, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  async put\u003cT\u003e(endpoint: string, data: unknown): Promise\u003cT\u003e {\n    return this.request\u003cT\u003e(endpoint, {\n      method: \"PUT\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  async delete(endpoint: string): Promise\u003cvoid\u003e {\n    await this.request(endpoint, { method: \"DELETE\" });\n  }\n}\n\nexport class ApiErrorImpl extends Error {\n  constructor(public error: ApiError) {\n    super(error.message);\n    this.name = \"ApiError\";\n  }\n}\n```\n\n#### 2. Task Service Hook\n\n**useTasks.ts**:\n```typescript\nexport function useTasks() {\n  const [tasks, setTasks] = useState\u003cTask[]\u003e([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState\u003cError | null\u003e(null);\n\n  const apiClient = new ApiClient(import.meta.env.VITE_API_URL || \"/api\");\n\n  const refresh = useCallback(async () =\u003e { ... }, [apiClient]);\n\n  const createTask = useCallback(async (data: Partial\u003cTask\u003e) =\u003e { ... }, [apiClient]);\n\n  const updateTask = useCallback(async (id: string, data: Partial\u003cTask\u003e) =\u003e { ... }, [apiClient]);\n\n  const deleteTask = useCallback(async (id: string) =\u003e { ... }, [apiClient]);\n\n  const toggleTask = useCallback(async (id: string) =\u003e { ... }, [apiClient]);\n\n  return { tasks, loading, error, refresh, createTask, updateTask, deleteTask, toggleTask };\n}\n```\n\n#### 3. Optimistic Update Pattern\n\n```typescript\nconst updateTaskOptimistic = useCallback(async (id: string, data: Partial\u003cTask\u003e) =\u003e {\n  const originalTask = tasks.find((t) =\u003e t.id === id);\n\n  if (!originalTask) {\n    throw new Error(\"Task not found\");\n  }\n\n  // Apply optimistic update\n  const optimisticTask = { ...originalTask, ...data };\n  setTasks((prev) =\u003e prev.map((t) =\u003e (t.id === id ? optimisticTask : t)));\n\n  try {\n    const updatedTask = await apiClient.put\u003cTask\u003e(`/tasks/${id}`, data);\n    return updatedTask;\n  } catch (err) {\n    // Revert on error\n    setTasks((prev) =\u003e prev.map((t) =\u003e (t.id === id ? originalTask : t)));\n    throw err;\n  }\n}, [tasks, apiClient]);\n```\n\n#### 4. Error Handling Pattern\n\n```typescript\nexport function ErrorHandler({ error, onRetry }: { error: Error | null; onRetry?: () =\u003e void }) {\n  useEffect(() =\u003e {\n    if (error) {\n      console.error(\"API Error:\", error);\n\n      if (error instanceof ApiErrorImpl) {\n        switch (error.error.code) {\n          case \"VALIDATION_ERROR\":\n            console.warn(\"Validation failed:\", error.error.message);\n            break;\n          case \"NOT_FOUND\":\n            console.warn(\"Resource not found:\", error.error.message);\n            break;\n        }\n      }\n    }\n  }, [error]);\n\n  if (!error) return null;\n\n  return (\n    \u003cdiv className=\"error-handler\"\u003e\n      \u003cp className=\"error-message\"\u003e{error.message}\u003c/p\u003e\n      {onRetry \u0026\u0026 (\n        \u003cbutton onClick={onRetry} className=\"retry-button\"\u003e\n          Retry\n        \u003c/button\u003e\n      )}\n    \u003c/div\u003e\n  );\n}\n```\n\n### Data Sync Strategy\n\n#### Initial Load\n\n```typescript\nfunction App() {\n  const { refresh, tasks, loading, error } = useTasks();\n\n  useEffect(() =\u003e {\n    refresh();\n  }, [refresh]);\n\n  // ...\n}\n```\n\n#### Real-time Updates (Polling)\n\n```typescript\nexport function useTasksWithPolling(intervalMs: number = 5000) {\n  const { tasks, refresh, ...rest } = useTasks();\n\n  useEffect(() =\u003e {\n    const interval = setInterval(() =\u003e {\n      refresh();\n    }, intervalMs);\n\n    return () =\u003e clearInterval(interval);\n  }, [refresh]);\n\n  return { tasks, refresh, ...rest };\n}\n```\n\n#### Conflict Resolution\n\n```typescript\nfunction resolveConflict(localTask: Task, serverTask: Task): Task {\n  if (new Date(serverTask.updated_at) \u003e new Date(localTask.updated_at)) {\n    return serverTask;\n  }\n\n  return { ...serverTask, ...localTask };\n}\n```\n\n### Environment Configuration\n\n#### Frontend Environment Variables\n\n**.env.development:**\n```bash\nVITE_API_URL=http://localhost:8000/api\n```\n\n**.env.production:**\n```bash\nVITE_API_URL=http://localhost:8000/api\n```\n\n#### Docker Environment\n\n```yaml\nservices:\n  frontend:\n    environment:\n      - API_URL=http://backend:8000/api\n```\n\n### Response Mapping\n\n#### Task Response to Frontend Model\n\n```typescript\n// Backend returns:\n{\n  \"id\": \"uuid\",\n  \"title\": \"Task title\",\n  \"status\": \"active\",\n  \"priority\": \"high\",\n  \"due_date\": \"2026-02-15T23:59:59Z\",\n  \"project\": \"Work\",\n  \"created_at\": \"2026-02-09T10:00:00Z\",\n  \"updated_at\": \"2026-02-09T10:00:00Z\"\n}\n\n// Frontend uses:\nTask {\n  id: string;\n  title: string;\n  status: TaskStatus;\n  priority: Priority;\n  due_date: string | null;  // Keep as ISO string\n  project: string;\n  created_at: string;\n  updated_at: string;\n}\n```\n\n#### Project Response to Frontend Model\n\n```typescript\n// Backend returns:\n{\n  \"name\": \"Project name\",\n  \"created_at\": \"2026-02-09T10:00:00Z\"\n}\n\n// Frontend uses:\nProject {\n  name: string;\n  created_at: string;\n}\n```\n\n#### Settings Response to Frontend Model\n\n```typescript\n// Backend returns:\n{\n  \"theme\": \"dark\",\n  \"sort_order\": \"priority\"\n}\n\n// Frontend uses:\nSettings {\n  theme: \"light\" | \"dark\";\n  sort_order: \"priority\" | \"due_date\" | \"created\";\n}\n```\n\n### CORS Configuration\n\n**Backend (FastAPI):**\n```python\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"http://localhost:5173\", \"http://localhost:5174\"],\n    allow_credentials=True,\n    allow_methods=[\"GET\", \"POST\", \"PUT\", \"DELETE\"],\n    allow_headers=[\"*\"],\n)\n```\n\n### Input Validation\n\n**Backend Pydantic Models:**\n```python\nclass TaskCreate(BaseModel):\n    title: str = Field(..., min_length=1, max_length=200)\n    notes: str = Field(\"\", max_length=1000)\n    priority: Literal[\"low\", \"medium\", \"high\"] = \"medium\"\n    due_date: Optional[datetime] = None\n    project: str = Field(\"Inbox\", max_length=100)\n\nclass SettingsUpdate(BaseModel):\n    theme: Optional[Literal[\"light\", \"dark\"]] = None\n    sort_order: Optional[Literal[\"priority\", \"due_date\", \"created\"]] = None\n```\n\n### Implementation Checklist\n\n- [x] API client with Fetch API\n- [x] Error handling pattern\n- [x] Task service hook\n- [x] Optimistic updates\n- [x] Type definitions\n- [ ] CORS configuration (backend)\n- [ ] Request validation (backend)\n- [ ] Response mapping tests\n- [ ] Integration tests\n\n### Testing the Integration\n\n#### API Testing (pytest)\n```python\n@pytest.mark.asyncio\nasync def test_create_task():\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n        response = await client.post(\"/api/v1/tasks\", json={\n            \"title\": \"Test task\",\n            \"priority\": \"high\"\n        })\n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"title\"] == \"Test task\"\n\n@pytest.mark.asyncio\nasync def test_list_tasks():\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n        response = await client.get(\"/api/v1/tasks\")\n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n```\n\n#### Frontend Integration Testing\n```typescript\nit(\"displays tasks when loaded\", async () =\u003e {\n  render(\u003cTaskList /\u003e);\n  expect(screen.getByText(\"Task 1\")).toBeInTheDocument();\n});\n```\n\n### Summary of Integration Patterns\n\n| Pattern | Description | Implementation |\n|---------|-------------|----------------|\n| REST API | Standard HTTP methods | FastAPI with OpenAPI |\n| JSON payloads | Human-readable data | Pydantic serialization |\n| Optimistic updates | Instant UI feedback | Local state first |\n| Error handling | Structured responses | Custom exception classes |\n| Type safety | TypeScript interfaces | Frontend models |\n| CORS | Cross-origin requests | Middleware configuration |\n| Polling | Simple sync strategy | useEffect with interval |\n\n### Next Steps\n\n1. Configure CORS on FastAPI backend\n2. Add request validation with Pydantic models\n3. Test API endpoints with pytest\n4. Implement frontend integration tests\n5. Add response validation on frontend\n6. Set up environment variables for all environments\n","notes":"Define the integration contract: API endpoint specifications, error handling patterns, optimistic update strategy, and data sync approach. Document in a design file.","status":"closed","priority":2,"issue_type":"task","owner":"mark@saum.net","created_at":"2026-02-09T13:51:30.109023-04:00","created_by":"Mark Saum","updated_at":"2026-02-09T17:19:26.364002-04:00","closed_at":"2026-02-09T17:19:26.364002-04:00","close_reason":"Architecture complete - system designed and implemented","dependencies":[{"issue_id":"ai_testbed_task_manager-wu7","depends_on_id":"ai_testbed_task_manager-37c","type":"blocks","created_at":"2026-02-09T13:51:55.870406-04:00","created_by":"Mark Saum"}]}
